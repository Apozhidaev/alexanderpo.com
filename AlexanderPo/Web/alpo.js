(function(){"use strict"})(__,window,jQuery,ko);__.Config=function(n){"use strict";function t(){if(n.config)return n.config;var i=n.createApiObject(),t=i.api;return t.appId="body",t.viewFolder="views/",t.main={viewUrl:"main.html",pages:{home:{viewUrl:"home.html"}}},n.config=t}return t}(__);__.LocalStrings.Eng=function(n){"use strict";function t(){var i=n.createApiObject(),t=i.api;return t.main={success:"Well done",error:"Sorry...",notFound:"Not found",updateReady:"New updates are available (please refresh the page)",submitChanges:"Changes have been done",pages:{home:{firstName:"Alexander",secondName:"Pozhidaev"}}},t}return t}(__);__.LocalStrings.Rus=function(n){"use strict";function t(){var i=n.createApiObject(),t=i.api;return t.main={success:"Все хорошо",error:"Ошибка...",notFound:"Не найдено",updateReady:"Новые изменения доступны (требуется обновить страницу)",submitChanges:"Изменения были сохранены",pages:{home:{firstName:"Александр",secondName:"Пожидаев"}}},t}return t}(__);__.ViewModels.HomeModel=function(n,t,i,r){"use strict";function u(){var t=this;n.app.signOut()}function f(t){var i=n.createApiObject(n.Page(t)),f=i.api;return f.loadingFailed=r.observable(!1),f.signOut=u.bind(i),i.api}return f}(__,window,jQuery,ko);__.ViewModels.Main.NoticeItemModel=function(n,t){"use strict";function i(){var n=this;n.mainModel.notices.remove(n.api);t.clearTimeout(n.infoTimer)}function r(r){var e=n.createApiObject(),f,u;e.mainModel=r.mainModel;f=r.mainModel.local;u=e.api;u.close=i.bind(e);switch(r.type){case n.Notices.Success:u.message=r.message||f.success;u.status="alert-success";break;case n.Notices.Error:u.message=r.message||f.error;u.status="alert-error";break;case n.Notices.NotFound:u.message=r.message||f.notFound;u.status="alert-error";break;case n.Notices.UpdateReady:u.message=r.message||f.updateReady;u.status="alert-warning";break;case n.Notices.SubmitChanges:u.message=r.message||f.submitChanges;u.status="alert-success"}return e.infoTimer=t.setTimeout(u.close,5e3),u}return r}(__,window,jQuery,ko);__.ViewModels.MainModel=function(n,t,i,r){"use strict";function e(){var n=this,t=u.HomeModel({frame:n.api,local:n.local.pages.home,config:n.config.pages.home});n.content(t)}function o(n,t){var i=this;i.notices.push(f.NoticeItemModel({mainModel:i.api,message:t,type:n}))}function s(){var n=this}function h(){var i=n.createApiObject(n.Frame({config:n.config.main,disableRouting:!0})),t=i.api;return t.navigate=e.bind(i),t.notice=o.bind(i),t.clear=s.bind(i),t.notices=r.observableArray(),t.local=n.app.local.main,t}var u=n.ViewModels,f=n.ViewModels.Main;return h}(__,window,jQuery,ko);__.Application=function(n,t){"use strict";function u(){if(t.navigator){if(t.navigator.language)return t.navigator.language;if(t.navigator.browserLanguage)return t.navigator.browserLanguage;if(t.navigator.systemLanguage)return t.navigator.systemLanguage;if(t.navigator.userLanguage)return t.navigator.userLanguage}}function f(){return t.isMobile.phone}function e(t){var r=this,i=this.api;i.notice(n.Notices.Success,t)}function o(t){var r=this,i=this.api;i.notice(n.Notices.Error,t)}function s(){if(n.app)return n.app;n.Config();var s=n.createApiObject(n.App({appId:n.config.appId,viewFolder:n.config.viewFolder})),t=s.api;return t.isMobile=f,/ru/ig.test(u())?(t.local=i.Rus(),t.lang=n.Lang.Rus):(t.local=i.Eng(),t.lang=n.Lang.Eng),t.model=r.MainModel(),t.showSuccess=e.bind(s),t.showError=o.bind(s),t}var i=n.LocalStrings,r=n.ViewModels;return s}(__,window,jQuery)